<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout.html' %}
<!-- In /views/layout.html you can: - change the header and footer - add custom CSS and JavaScript -->

<!-- Set the page title -->
{% block pageTitle %}
  GP Registration Prototypes
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}{% endblock %}

<!-- For adding a Go back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/Go back-link -->
{% block outerContent %}{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <section class="nhsuk-section">
    <div class="nhsuk-width-container">
      <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-two-thirds">

          {{ backLink({
            text: "Go back",
            href: "javascript:history.go(-1)"
          }) }}

          <form action="what-is-your-gender-at-birth" method="post" autocomplete="off">

            {% if (data['who-is-being-registered'] == "dependant") %}

            {% set otherHtml %}
              {{ input({
                id: "other",
                name: "other",
                classes: "nhsuk-u-width-two-thirds",
                label: {
                  text: "Gender"
                }
              }) }}
            {% endset -%}

            {{ radios({
              "idPrefix": "gender",
              "name": "gender",
              "fieldset": {
                "legend": {
                  "text": "Which of the following options best describes how they think of themself?",
                  "classes": "nhsuk-fieldset__legend--l",
                  "isPageHeading": "true"
                }
              },
              "hint": {
                "html": "<p>
                  You can choose any of these options and we should be able to match their records accurately.</p>
                  <p>Your answer does not have to match the sex they were given at birth.</p>"
              },

              "items": [
                {
                  "value": "woman (including trans woman)",
                  "text": "Woman (including trans woman)",
                  checked: checked("gender", "woman")
                },
                {
                  "value": "man (including trans man)",
                  "text": "Man (including trans man)",
                  checked: checked("gender", "man")
                },
                {
                  "value": "non-binary",
                  "text": "Non-binary",
                  checked: checked("gender", "non-binary")
                },
                {
                  "value": "in-another-way",
                  "text": "In another way",
                  "conditional": {
                    "html": otherHtml
                  },
                  checked: checked("gender", "in-another-way")
                }
              ]
            }) }}

            {{ details({
              "text": "Why are you asking this?",
              "HTML": "<p>We collect this information to better tailor healthcare services to your needs. We do not discriminate on grounds of gender.</p>"
            }) }}

            {% else %}

            {% set otherHtml %}
              {{ input({
                id: "other",
                name: "other",
                classes: "nhsuk-u-width-two-thirds",
                label: {
                  text: "Gender"
                }
              }) }}
            {% endset -%}

            {{ radios({
              "idPrefix": "gender",
              "name": "gender",
              "fieldset": {
                "legend": {
                  "text": "Which of the following options best describes how you think of yourself?",
                  "classes": "nhsuk-fieldset__legend--l",
                  "isPageHeading": "true"
                }
              },
              "hint": {
                "html": "<p>
                  You can choose any of these options and we should be able to match your records accurately.</p>
                  <p>Your answer does not have to match the sex you were given at birth.</p>"
              },

              "items": [
                {
                  "value": "woman (including trans woman)",
                  "text": "Woman (including trans woman)",
                  checked: checked("gender", "woman")
                },
                {
                  "value": "man (including trans man)",
                  "text": "Man (including trans man)",
                  checked: checked("gender", "man")
                },
                {
                  "value": "non-binary",
                  "text": "Non-binary",
                  checked: checked("gender", "non-binary")
                },
                {
                  "value": "in-another-way",
                  "text": "In another way",
                  "conditional": {
                    "html": otherHtml
                  },
                  checked: checked("gender", "in-another-way")
                }
              ]
            }) }}

            {{ details({
              "text": "Why are you asking this?",
              "HTML": "<p>We collect this information to better tailor healthcare services to your needs. We do not discriminate on grounds of gender.</p>"
            }) }}

            {% endif %}

            {{ button({
              "text": "Continue"
            }) }}



          </form>
        </div>
      </div>
    </section>

    <!-- End of content -->

  </div>
</div>
{% endblock %}
