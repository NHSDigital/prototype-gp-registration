<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout.html' %}
<!-- In /views/layout.html you can: - change the header and footer - add custom CSS and JavaScript -->

<!-- Set the page title -->
{% block pageTitle %}
  GP Registration Prototypes
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}{% endblock %}

<!-- For adding a Go back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/Go back-link -->
{% block outerContent %}{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <section class="nhsuk-section">
    <div class="nhsuk-width-container">
      <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-two-thirds">

          {{ backLink({
            text: "Go back",
            href: "javascript:history.go(-1)"
          }) }}

          <form action="what-is-your-previous-address-selection" method="post" autocomplete="off">

            {{ hint({
              "text": "Step 2 of 3 - Personal Details",
              "classes": "nhsuk-u-margin-bottom-2"
            }) }}

            {% if (data['who-is-being-registered'] == "dependant") %}

            {% call fieldset({
              legend: {
                "text": "What was their previous UK address?",
                "classes": "nhsuk-fieldset__legend--l",
                "isPageHeading": true
              }
            }) %}

            {{ input({
              label: {
                "text": "House number or name"
              },
              "hint": {
                "text": "For example, flat 20A"
              },
              "classes": "nhsuk-input--width-10",
              "id": "prev-house-number-address",
              "name": "prev-house-number-address",
              value: data['prev-house-number-address']
          }) }}

            {{ input({
              label: {
                "text": "Postcode"
              },
              "hint": {
                "text": "For example, AB12 P12"
              },
              "classes": "nhsuk-input--width-10",
              "id": "find-previous-address",
              "name": "find-previous-address",
              value: data['find-previous-address']
          }) }}

          {% endcall %}

          {% else %}

          {% call fieldset({
            legend: {
              "text": "What was your previous UK address?",
              "classes": "nhsuk-fieldset__legend--l",
              "isPageHeading": true
            }
          }) %}

          {{ input({
            label: {
              "text": "House number or name"
            },
            "hint": {
              "text": "For example, flat 20A"
            },
            "classes": "nhsuk-input--width-10",
            "id": "prev-house-number-address",
            "name": "prev-house-number-address",
            value: data['prev-house-number-address']
        }) }}

          {{ input({
            label: {
              "text": "Postcode"
            },
            "hint": {
              "text": "For example, AB12 P12"
            },
            "classes": "nhsuk-input--width-10",
            "id": "find-previous-address",
            "name": "find-previous-address",
            value: data['find-previous-address']
        }) }}

        {% endcall %}

        {% endif %}

          <p>
            <a href="/sprint-11/section-2/what-is-your-previous-address-manual" id="enter-address-manually-link">Enter the address manually</a>
          </p>

            {{ button({
              "text": "Continue"
          }) }}



          </form>
        </div>
      </div>
    </section>

    <!-- End of content -->

  </div>
</div>
{% block pageScripts %}

  <script>
    $('#no-previous-address-1').change(function () {
      if ($('#no-previous-address-1').is(':checked') == true) {
        $('input[type=text]').prop('disabled', true);
      } else {
        $('input[type=text]').prop('disabled', false);
      }
    });
  </script>

{% endblock %}

{% endblock %}
