{% set serviceHome = '/live/start' %}
{% set servicePhase = 'beta' %}
{% set feedbackType = 'step' %}

{% extends 'layout.html' %}

{% block pageTitle %}
  GP Registration Prototypes
{% endblock %}

{% block outerContent %}
  {{ backLink({
    "href": "javascript:history.go(-1)",
    "text": "Go back",
    "classes": "nhsuk-u-margin-top-4 nhsuk-u-margin-bottom-0"
  }) }}
{% endblock %}

{% block content %}

      <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-two-thirds">

          <form action="" method="post" autocomplete="off">

            {{ hint({
              "text": "Health information",
              "classes": "nhsuk-u-margin-bottom-2"
            }) }}

            {% if (data['who-is-being-registered'] == "dependant") %}

            <h1 class="nhsuk-heading-l">Does {{ data ['name-first-name'] }} have any existing or pre-existing medical conditions?</H1>

            {% call fieldset({
              legend: {
                text: "",
                classes: "nhsuk-fieldset__legend--l",
                isPageHeading: true
              }
            }) %}

            {{ hint({
              "text": "Conditions include asthma, dementia, diabetes, cancer or heart disease. This will help the GP give the right treatment."
            }) }}

            {{ radios({
              "idPrefix": "has-existing-conditions",
              "name": "has-existing-conditions",
              "items": [
                {
                  "value": "Yes~/live/what-existing-conditions-do-you-have",
                  "text": "Yes",
                  checked: checked("has-existing-conditions", "Yes")
                },
                {
                  "value": "No~/live/do-you-have-allergies",
                  "text": "No",
                  checked: checked("has-existing-conditions", "No")
                },
                {
                  "divider": "or"
                },
                {
                  "value": "Prefer not to say~/live/do-you-have-allergies",
                  "text": "Prefer not to say",
                  checked: checked("has-existing-conditions", "Prefer not to say")
                }
              ]
            }) }}

            {% endcall %}
            {% else %}

            {% call fieldset({
              legend: {
                text: "Do you have any existing or pre-existing medical conditions?",
                classes: "nhsuk-fieldset__legend--l",
                isPageHeading: true
              }
            }) %}

            {{ hint({
              "text": "Conditions include asthma, dementia, diabetes, cancer or heart disease. This will help the GP give the right treatment."
            }) }}

            {{ radios({
              "idPrefix": "has-existing-conditions",
              "name": "has-existing-conditions",
              "items": [
                {
                  "value": "Yes~/live/what-existing-conditions-do-you-have",
                  "text": "Yes",
                  checked: checked("has-existing-conditions", "Yes")
                },
                {
                  "value": "No~/live/do-you-have-allergies",
                  "text": "No",
                  checked: checked("has-existing-conditions", "No")
                },
                {
                  "divider": "or"
                },
                {
                  "value": "Prefer not to say~/live/do-you-have-allergies",
                  "text": "Prefer not to say",
                  checked: checked("has-existing-conditions", "Prefer not to say")
                }
              ]
            }) }}

            {% endcall %}
            {% endif %}

            {{ button({
              "text": "Continue"
            }) }}

          </form>
        </div>
       </div>

{% endblock %}

{% block footer %}
  {% include 'live/includes/footer.html' %}
{% endblock %}
