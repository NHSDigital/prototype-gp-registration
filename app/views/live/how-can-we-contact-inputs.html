{% set serviceHome = '/live/start' %}
{% set servicePhase = 'beta' %}
{% set feedbackType = 'step' %}
{% set section = '2' %}

{% extends 'layout.html' %}

{% if (data['who-is-being-registered'] === "dependant") %}
  {% set heading = 'What are ' + data['name-first-name'] + '\'s contact details?' %}
{% else %}
  {% set heading = 'What are your contact details?' %}
{% endif %}

{% block pageTitle %}
What are your contact details? - {{ ServiceName }} - NHS
{% endblock %}

{% block outerContent %}
  {{ backLink({
    "href": "javascript:history.go(-1)",
    "text": "Go back",
    "classes": "nhsuk-u-margin-top-4 nhsuk-u-margin-bottom-0"
  }) }}
{% endblock %}

{% block content %}

    <div class="nhsuk-grid-row">
      <div class="nhsuk-grid-column-two-thirds">

        <form action="do-you-have-emergency-contact" method="post">

          {% include 'live/includes/step.html' %}

            {% call fieldset({
              legend: {
              text: heading,
              classes: "nhsuk-fieldset__legend--l",
              isPageHeading: true
              }
            }) %}

            <div class="nhsuk-hint" id="contact-hint">
              {% if (data['who-is-being-registered'] === "dependant") %}
              <p>The NHS and your GP surgery can use these details to call, text or email them about health care services. All phone numbers must be registered in the UK.</p>
              {% else %}
              <p>The NHS and your GP surgery can use these details to call, text or email you about health care services. All phone numbers must be registered in the UK.</p>
              {% endif %}
            </div>

            {{ input({
              label: {
                "text": "Home telephone number (optional)"
              },
              "classes": "nhsuk-input nhsuk-input--width-20",
              "id": "contact-home",
              "name": "contact-home",
              "spellcheck": false,
              "value": data['contact-home']
            }) }}

            {{ input({
              label: {
                "text": "Mobile telephone number (optional)"
              },
              "classes": "nhsuk-input nhsuk-input--width-20",
              "id": "contact-mobile",
              "name": "contact-mobile",
              "spellcheck": false,
              "value": data['contact-home']
            }) }}

            {{ input({
              label: {
                "text": "Email address (optional)"
              },
              "id": "contact-email",
              "name": "contact-email",
              "spellcheck": false,
              "value": data['contact-email']
            }) }}

            {% endcall %}

            {{ button({
                "text": "Continue"
              }) }}

          </form>

        </div>
      </div>

{# DEVMODE SCENARIOS #}
{% if data['devMode'] === 'true' %}
<details class="nhsuk-details dev-mode" role="group">
  <summary class="nhsuk-details__summary" role="button" aria-controls="details-content-0" aria-expanded="true">
    <span class="nhsuk-details__summary-text">
      Switch scenario
    </span>
  </summary>
  <div class="nhsuk-details__text">
    <h4>Registration type</h4>
    <ul class="govuk-list govuk-list--bullet">
      <li>
        <a href="?who-is-being-registered=myself">Self</a>
      </li>
      <li>
        <a href="?who-is-being-registered=dependant">Dependant</a>
      </li>
    </ul>

      <h4>Error scenarios</h4>
      <ul class="govuk-list govuk-list--bullet">
        <li>
          <a href="how-can-we-contact-inputs-prompt">Email and mobile are left blank</a>
        </li>
      </ul>
  </div>
</details>
{% endif %}

{% endblock %}

{% block footer %}
  {% include 'live/includes/footer.html' %}
{% endblock %}